const { body } = require("express-validator");

const roomValidationSchema = () => {
  return [
    // Validate name
    body("name")
      .notEmpty()
      .withMessage("Name is required")
      .trim()
      .isLength({ min: 2 })
      .withMessage("Name must be at least 2 characters long"),

    // Validate type
    body("type")
      .notEmpty()
      .withMessage("Type is required")
      .isIn(["Single", "Double", "Suite"])
      .withMessage("Type must be one of the following: Single, Double, Suite"),

    // Validate price
    body("price")
      .notEmpty()
      .withMessage("Price is required")
      .isFloat({ min: 0 })
      .withMessage("Price must be a positive number"),

    // Validate status
    body("status")
      .optional()
      .isIn(["Available", "Booked", "Maintenance"])
      .withMessage(
        "Status must be one of the following: Available, Booked, Maintenance"
      ),

    // Validate location (building and floor)
    body("location.building")
      .notEmpty()
      .withMessage("Building is required")
      .isString()
      .withMessage("Building must be a string"),
    body("location.floor")
      .notEmpty()
      .withMessage("Floor is required")
      .isInt({ min: 0 })
      .withMessage("Floor must be a positive integer"),

    // Validate class
    body("class")
      .notEmpty()
      .withMessage("Class is required")
      .isIn(["Economy", "Standard", "Luxury", "Premium"])
      .withMessage(
        "Class must be one of the following: Economy, Standard, Luxury, Premium"
      ),

    // Optional: Validate description
    body("description")
      .optional()
      .isLength({ max: 500 })
      .withMessage("Description must not exceed 500 characters"),
  ];
};

module.exports = {
  roomValidationSchema,
};
